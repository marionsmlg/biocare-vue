import{a as ae}from"./utils-39301042.js";import{r as b,p as M,e as g,f as L,t as N,g as G,h as Q,u as w,H as F,i as J,j as me,k as $,O as fe,l as be,m as T,n as he,q as Y,s as ye,v as ge,K as _e,x as xe,T as ke,F as C,y as O,z as K,P as X,N as j,A as Z,B as we,o as _,C as E,w as S,b as D,d as A,a as d,c as P,D as H,E as R,G as I,I as V,J as Se,L as $e,M as Ee}from"./index-c392db48.js";import{_ as Pe}from"./Breadcrumbs-d7526a11.js";let se=Symbol("DescriptionContext");function Ce(){let t=J(se,null);if(t===null)throw new Error("Missing parent");return t}function le({slot:t=b({}),name:i="Description",props:o={}}={}){let s=b([]);function n(l){return s.value.push(l),()=>{let e=s.value.indexOf(l);e!==-1&&s.value.splice(e,1)}}return M(se,{register:n,slot:t,name:i,props:o}),g(()=>s.value.length>0?s.value.join(" "):void 0)}let Oe=L({name:"Description",props:{as:{type:[Object,String],default:"p"},id:{type:String,default:()=>`headlessui-description-${N()}`}},setup(t,{attrs:i,slots:o}){let s=Ce();return G(()=>Q(s.register(t.id))),()=>{let{name:n="Description",slot:l=b({}),props:e={}}=s,{id:c,...p}=t,m={...Object.entries(e).reduce((k,[y,x])=>Object.assign(k,{[y]:w(x)}),{}),id:c};return F({ourProps:m,theirProps:p,slot:l.value,attrs:i,slots:o,name:n})}}}),re=Symbol("LabelContext");function ne(){let t=J(re,null);if(t===null){let i=new Error("You used a <Label /> component, but it is not inside a parent.");throw Error.captureStackTrace&&Error.captureStackTrace(i,ne),i}return t}function oe({slot:t={},name:i="Label",props:o={}}={}){let s=b([]);function n(l){return s.value.push(l),()=>{let e=s.value.indexOf(l);e!==-1&&s.value.splice(e,1)}}return M(re,{register:n,slot:t,name:i,props:o}),g(()=>s.value.length>0?s.value.join(" "):void 0)}let De=L({name:"Label",props:{as:{type:[Object,String],default:"label"},passive:{type:[Boolean],default:!1},id:{type:String,default:()=>`headlessui-label-${N()}`}},setup(t,{slots:i,attrs:o}){let s=ne();return G(()=>Q(s.register(t.id))),()=>{let{name:n="Label",slot:l={},props:e={}}=s,{id:c,passive:p,...m}=t,k={...Object.entries(e).reduce((y,[x,h])=>Object.assign(y,{[x]:w(h)}),{}),id:c};return p&&(delete k.onClick,delete k.htmlFor,delete m.onClick),F({ourProps:k,theirProps:m,slot:l,attrs:o,slots:i,name:n})}}});function Re(t,i){return t===i}let ie=Symbol("RadioGroupContext");function ue(t){let i=J(ie,null);if(i===null){let o=new Error(`<${t} /> is missing a parent <RadioGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(o,ue),o}return i}let de=L({name:"RadioGroup",emits:{"update:modelValue":t=>!0},props:{as:{type:[Object,String],default:"div"},disabled:{type:[Boolean],default:!1},by:{type:[String,Function],default:()=>Re},modelValue:{type:[Object,String,Number,Boolean],default:void 0},defaultValue:{type:[Object,String,Number,Boolean],default:void 0},form:{type:String,optional:!0},name:{type:String,optional:!0},id:{type:String,default:()=>`headlessui-radiogroup-${N()}`}},inheritAttrs:!1,setup(t,{emit:i,attrs:o,slots:s,expose:n}){let l=b(null),e=b([]),c=oe({name:"RadioGroupLabel"}),p=le({name:"RadioGroupDescription"});n({el:l,$el:l});let[m,k]=me(g(()=>t.modelValue),a=>i("update:modelValue",a),g(()=>t.defaultValue)),y={options:e,value:m,disabled:g(()=>t.disabled),firstOption:g(()=>e.value.find(a=>!a.propsRef.disabled)),containsCheckedOption:g(()=>e.value.some(a=>y.compare($(a.propsRef.value),$(t.modelValue)))),compare(a,r){if(typeof t.by=="string"){let u=t.by;return(a==null?void 0:a[u])===(r==null?void 0:r[u])}return t.by(a,r)},change(a){var r;if(t.disabled||y.compare($(m.value),$(a)))return!1;let u=(r=e.value.find(v=>y.compare($(v.propsRef.value),$(a))))==null?void 0:r.propsRef;return u!=null&&u.disabled?!1:(k(a),!0)},registerOption(a){e.value.push(a),e.value=fe(e.value,r=>r.element)},unregisterOption(a){let r=e.value.findIndex(u=>u.id===a);r!==-1&&e.value.splice(r,1)}};M(ie,y),be({container:g(()=>T(l)),accept(a){return a.getAttribute("role")==="radio"?NodeFilter.FILTER_REJECT:a.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(a){a.setAttribute("role","none")}});function x(a){if(!l.value||!l.value.contains(a.target))return;let r=e.value.filter(u=>u.propsRef.disabled===!1).map(u=>u.element);switch(a.key){case O.Enter:we(a.currentTarget);break;case O.ArrowLeft:case O.ArrowUp:if(a.preventDefault(),a.stopPropagation(),X(r,j.Previous|j.WrapAround)===Z.Success){let u=e.value.find(v=>{var f;return v.element===((f=K(l))==null?void 0:f.activeElement)});u&&y.change(u.propsRef.value)}break;case O.ArrowRight:case O.ArrowDown:if(a.preventDefault(),a.stopPropagation(),X(r,j.Next|j.WrapAround)===Z.Success){let u=e.value.find(v=>{var f;return v.element===((f=K(v.element))==null?void 0:f.activeElement)});u&&y.change(u.propsRef.value)}break;case O.Space:{a.preventDefault(),a.stopPropagation();let u=e.value.find(v=>{var f;return v.element===((f=K(v.element))==null?void 0:f.activeElement)});u&&y.change(u.propsRef.value)}break}}let h=g(()=>{var a;return(a=T(l))==null?void 0:a.closest("form")});return G(()=>{he([h],()=>{if(!h.value||t.defaultValue===void 0)return;function a(){y.change(t.defaultValue)}return h.value.addEventListener("reset",a),()=>{var r;(r=h.value)==null||r.removeEventListener("reset",a)}},{immediate:!0})}),()=>{let{disabled:a,name:r,id:u,form:v,...f}=t,W={ref:l,id:u,role:"radiogroup","aria-labelledby":c.value,"aria-describedby":p.value,onKeydown:x};return Y(C,[...r!=null&&m.value!=null?ye({[r]:m.value}).map(([U,z])=>Y(ge,_e({features:xe.Hidden,key:U,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:v,name:U,value:z}))):[],F({ourProps:W,theirProps:{...o,...ke(f,["modelValue","defaultValue","by"])},slot:{},attrs:o,slots:s,name:"RadioGroup"})])}}});var Ve=(t=>(t[t.Empty=1]="Empty",t[t.Active=2]="Active",t))(Ve||{});let ce=L({name:"RadioGroupOption",props:{as:{type:[Object,String],default:"div"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1},id:{type:String,default:()=>`headlessui-radiogroup-option-${N()}`}},setup(t,{attrs:i,slots:o,expose:s}){let n=ue("RadioGroupOption"),l=oe({name:"RadioGroupLabel"}),e=le({name:"RadioGroupDescription"}),c=b(null),p=g(()=>({value:t.value,disabled:t.disabled})),m=b(1);s({el:c,$el:c});let k=g(()=>T(c));G(()=>n.registerOption({id:t.id,element:k,propsRef:p})),Q(()=>n.unregisterOption(t.id));let y=g(()=>{var f;return((f=n.firstOption.value)==null?void 0:f.id)===t.id}),x=g(()=>n.disabled.value||t.disabled),h=g(()=>n.compare($(n.value.value),$(t.value))),a=g(()=>x.value?-1:h.value||!n.containsCheckedOption.value&&y.value?0:-1);function r(){var f;n.change(t.value)&&(m.value|=2,(f=T(c))==null||f.focus())}function u(){m.value|=2}function v(){m.value&=-3}return()=>{let{id:f,value:W,disabled:U,...z}=t,pe={checked:h.value,disabled:x.value,active:!!(m.value&2)},ve={id:f,ref:c,role:"radio","aria-checked":h.value?"true":"false","aria-labelledby":l.value,"aria-describedby":e.value,"aria-disabled":x.value?!0:void 0,tabIndex:a.value,onClick:x.value?void 0:r,onFocus:x.value?void 0:u,onBlur:x.value?void 0:v};return F({ourProps:ve,theirProps:z,slot:pe,attrs:i,slots:o,name:"RadioGroupOption"})}}}),B=De,je=Oe;const Te={class:"space-y-4"},Ae={class:"flex"},Ie={class:"flex items-center ml-3"},Be={class:"flex flex-col text-sm"},Le={class:"block sm:inline"},Ne={__name:"SkinTypes",setup(t){async function i(){try{const e=(await(await fetch("https://biocare-api-production.up.railway.app/api/physical-trait")).json()).filter(c=>c.recipe_category_id==="6c250d76-bfad-4968-a334-52e06119c591");ae(e),o.value=e}catch(n){console.error(n)}}i();const o=b([]),s=b(o[0]);return(n,l)=>(_(),E(w(de),{modelValue:s.value,"onUpdate:modelValue":l[0]||(l[0]=e=>s.value=e)},{default:S(()=>[D(w(B),{class:"sr-only"},{default:S(()=>[A("Skin type")]),_:1}),d("div",Te,[(_(!0),P(C,null,H(o.value,e=>(_(),E(w(ce),{as:"template",key:e.id,value:e.id},{default:S(()=>[d("div",{class:R([s.value===e.id?"border-[#8CD4E0] ring-1 ring-[#8CD4E0]":"border-gray-300","relative block cursor-pointer rounded-xl border bg-white px-4 py-2 shadow-sm focus:outline-none sm:flex sm:justify-between"])},[d("div",Ae,[(_(),E(I(e.icon),{class:"w-20 h-20"})),d("span",Ie,[d("span",Be,[D(w(B),{as:"span",class:"font-medium text-gray-900"},{default:S(()=>[A(V(e.name),1)]),_:2},1024),D(w(je),{as:"span",class:"text-gray-500"},{default:S(()=>[d("span",Le,V(e.description),1)]),_:2},1024)])])]),d("span",{class:R([s.value===e.id?"border":"border-1",s.value===e.id?"border-[#8CD4E0]":"border-transparent","pointer-events-none absolute -inset-px rounded-lg"]),"aria-hidden":"true"},null,2)],2)]),_:2},1032,["value"]))),128))])]),_:1},8,["modelValue"]))}},Ge=d("p",{class:"mb-8 text-sm text-gray-500"},"Plusieurs choix sont possibles",-1),Fe={class:"grid grid-cols-1 gap-4"},He=["value"],Ue={class:"min-w-0 flex-1 text-sm leading-6"},ze={for:"problems",class:"font-medium text-gray-900"},Ke={class:"ml-3 flex h-6 items-center"},Me=["id","name","value"],q="77b4ae6d-a31f-4de5-a731-1249cd87eeff",ee="1ddab218-5489-4891-8fbb-1c7061271dc8",te={__name:"SkinHairProblems",props:{problems:Array,instance:String},emits:["updateCheckboxes"],setup(t,{emit:i}){const o=t,s=b([]);function n(){if(s.value.includes(q))return s.value=[q];if(s.value.includes(ee))return s.value=[ee]}function l(){n(),i("updateCheckboxes",{instance:o.instance,values:s.value})}return(e,c)=>(_(),P(C,null,[Ge,d("fieldset",Fe,[(_(!0),P(C,null,H(o.problems,p=>(_(),P("div",{class:"relative flex items-center px-12 py-4 rounded-xl border border-gray-300",key:p.id,value:p.id},[d("div",Ue,[d("label",ze,V(p.name),1)]),d("div",Ke,[Se(d("input",{id:p.id,name:p.name,value:p.id,type:"checkbox",class:"h-4 w-4 rounded border-gray-300","onUpdate:modelValue":c[0]||(c[0]=m=>s.value=m),onChange:l},null,40,Me),[[$e,s.value]])])],8,He))),128))])],64))}},Qe={class:"w-full grid grid-cols-2 gap-3 justify-center"},Je={class:"flex flex-col items-center"},We={class:"text-sm"},Ye={__name:"HairTypes",setup(t){async function i(){try{const e=(await(await fetch("https://biocare-api-production.up.railway.app/api/physical-trait")).json()).filter(p=>p.recipe_category_id==="157bb376-f516-4cfe-9ce8-baa56f5dba89"),c=e.filter(p=>p.name!=="Tous types");ae(e),o.value=c}catch(n){console.error(n)}}i();const o=b([]),s=b(o[0]);return(n,l)=>(_(),E(w(de),{modelValue:s.value,"onUpdate:modelValue":l[0]||(l[0]=e=>s.value=e)},{default:S(()=>[D(w(B),{class:"sr-only"},{default:S(()=>[A("Hair Types")]),_:1}),d("div",Qe,[(_(!0),P(C,null,H(o.value,e=>(_(),E(w(ce),{as:"template",key:e.id,value:e.id},{default:S(({active:c,checked:p})=>[d("div",{class:R([s.value===e.id?"border-[#8CD4E0] ring-1 ring-[#8CD4E0]":"border-gray-300","relative block cursor-pointer rounded-xl border bg-white px-6 py-4 shadow-sm focus:outline-none w-40 md:w-56"])},[d("div",Je,[(_(),E(I(e.icon),{class:"w-20 h-20"})),d("span",We,[D(w(B),{as:"span",class:"font-medium text-gray-900"},{default:S(()=>[A(V(e.name),1)]),_:2},1024)])]),d("span",{class:R([s.value===e.id?"border":"border-1",p?"border-[#8CD4E0]":"border-transparent","pointer-events-none absolute -inset-px rounded-lg"]),"aria-hidden":"true"},null,2)],2)]),_:2},1032,["value"]))),128))])]),_:1},8,["modelValue"]))}},Xe={class:"pb-12"},Ze={class:"flex flex-col items-center"},qe={class:"text-xl font-bold text-center mb-8"},et={class:"flex justify-center"},tt=["disabled"],rt={__name:"QuizView2",setup(t){const i=b([]),o=b([]);async function s(){try{const a=await(await fetch("https://biocare-api-production.up.railway.app/api/beauty-issue")).json(),r=a.filter(v=>v.recipe_category_id==="6c250d76-bfad-4968-a334-52e06119c591"),u=a.filter(v=>v.recipe_category_id==="157bb376-f516-4cfe-9ce8-baa56f5dba89");i.value=r,o.value=u}catch(h){console.error(h)}}s();const n=[{text:"Quel est votre type de peau ?",component:Ne,instance:"skinType"},{text:"Avez-vous des problèmes de peau spécifiques ?",component:te,instance:"skinProblems"},{text:"Quelle est votre texture de cheveux naturelle ?",component:Ye,instance:"hairType"},{text:"Avez-vous des problèmes capillaires spécifiques ?",component:te,instance:"hairProblems"}],l=b({}),e=b([]),c=b([]),p=g(()=>l.value.skinType&&l.value.hairType&&e.value.length!==0&&c.value.length!==0);function m({instance:h,values:a}){h==="skinProblems"?e.value=a:h==="hairProblems"&&(c.value=a)}const k=Ee();function y(){localStorage.setItem("skinType",l.value.skinType),localStorage.setItem("hairType",l.value.hairType),localStorage.setItem("skinProblem",JSON.stringify(e.value)),localStorage.setItem("hairProblem",JSON.stringify(c.value)),k.push("/personal-space")}const x=[{name:"Questionnaire",href:"/quiz",current:!0}];return(h,a)=>(_(),P(C,null,[D(Pe,{pages:x}),d("div",Xe,[(_(),P(C,null,H(n,(r,u)=>d("div",{key:u,class:"xl:px-72 px-6 py-10"},[d("div",Ze,[d("h1",qe,V(r.text),1),r.instance==="skinProblems"||r.instance==="hairProblems"?(_(),E(I(r.component),{key:0,problems:r.instance==="skinProblems"?i.value:r.instance==="hairProblems"?o.value:"",instance:r.instance,onUpdateCheckboxes:m},null,40,["problems","instance"])):(_(),E(I(r.component),{key:1,instance:r.instance,modelValue:l.value[r.instance],"onUpdate:modelValue":v=>l.value[r.instance]=v},null,8,["instance","modelValue","onUpdate:modelValue"]))])])),64)),d("div",et,[d("button",{disabled:!p.value,type:"submit",class:R([p.value?"bg-[#8CD4E0] hover:bg-[#6ECDDF]":"bg-sky-200 text-gray-500 cursor-not-allowed","rounded-xl px-24 py-3 text-md font-bold shadow-sm focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"]),onClick:y}," Trouver mes recettes ! ",10,tt)])])],64))}};export{rt as default};
