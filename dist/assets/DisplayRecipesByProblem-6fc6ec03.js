import{_ as P}from"./Category-531e00ef.js";import{_ as x}from"./Breadcrumbs-d7526a11.js";import{r as o,e as N,o as u,c as m,b as f,u as b,a as w,a0 as B,F as C}from"./index-c392db48.js";import"./ClockIcon-e9c1dd80.js";const I={key:0,class:"flex justify-center"},D={__name:"DisplayRecipesByProblem",setup(S){const d=o(localStorage.getItem("category")||""),y=o(localStorage.getItem("problem")||""),r=JSON.parse(d.value),c=JSON.parse(y.value),t=o([]),_=r.name.toLowerCase();let i=1,a=9;function g(){i++,t.value.length===a&&(a=9*i,n())}function h(s){const e="b9f90678-ea3f-4fde-952f-a26a88e13259",l="c8898a24-04cb-4b1f-bb8b-38633aa3c670";return s==="Cheveux"?l:e}const v=N(()=>t.value.length>a);async function n(){const s=new URLSearchParams({physical_trait_id:h(r.name),beauty_issue_id:c.id,limit:a});try{const e=`https://biocare-api-production.up.railway.app/api/recipe?${s}`,p=await(await fetch(e)).json();t.value=p,console.log(p)}catch(e){console.error(e)}}return n(),(s,e)=>(u(),m(C,null,[f(x),f(P,{categoryName:b(_),recipes:t.value,beautyIssue:b(c).name},null,8,["categoryName","recipes","beautyIssue"]),v.value?(u(),m("div",I,[w("button",{onClick:g,type:"button",class:"md:px-14 md:py-3 w-auto rounded-xl bg-[#8CD4E0] px-3 py-2 text-md font-bold shadow-sm hover:bg-[#1AB2CC] focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"}," Afficher plus de recettes ")])):B("",!0)],64))}};export{D as default};
